
<div class="row mb-5">
  <div class="col-lg-9 col-md-9 topic-list">
    {{if .Category}}
    <div class="alert alert-info" role="alert">
      {{ .Category.Name }} ：{{ .Category.Description }}
    </div>
    {{end}}
    <div class="card ">
        {{$c_recent:=urlfor "CategoryController.Show" ":id" 1 "order" "recent"}}
        {{$c_default:=urlfor "CategoryController.Show" ":id" 2 "order" "default"}}
        {{$t_recent:=urlfor "TopicController.Index" "order" "recent"}}
        {{$t_default:=urlfor "TopicController.Index" "order" "default"}}
      <div class="card-header bg-transparent">
        <ul class="nav nav-pills">
          <li class="nav-item "><a class="nav-link {{with urlContain .rUrl $c_default}} active {{end}} {{with urlContain .rUrl $t_default}} active {{end}}" href="?order=default">最后回复</a></li>
          <li class="nav-item "><a class="nav-link {{with urlContain .rUrl $c_recent}} active {{end}} {{with urlContain .rUrl $t_recent}} active {{end}}" href="?order=recent">最新发布</a></li>
        </ul>
      </div>

      <div class="card-body">

        {{template "topics/_topic_list.html" .}}

        <div class="mt-5" >
          <nav aria-label="Page navigation example">

              {{if gt .paginator.PageNums 1}}
              <ul class="pagination pagination-sm">
                  {{if .paginator.HasPrev}}
                  <li class="page-item">
                      <a class="page-link" href="{{.paginator.PageLinkFirst}}" tabindex="-1" aria-disabled="true">首页</a>
                  </li>
                  <li class="page-item">
                      <a class="page-link" href="{{.paginator.PageLinkPrev}}" tabindex="-1" aria-disabled="true">上一页</a>
                  </li>
<!--                  <li><a href="{{.paginator.PageLinkPrev}}">&lt;</a></li>-->
                  {{else}}
                  <li class="page-item disabled">
                      <a class="page-link" href="{{.paginator.PageLinkFirst}}" tabindex="-1" aria-disabled="true">首页</a>
                  </li>
                  <li class="page-item disabled">
                      <a class="page-link" href="{{.paginator.PageLinkPrev}}" tabindex="-1" aria-disabled="true">上一页</a>
                  </li>
                  {{end}}
                  {{range $index, $page := .paginator.Pages}}
                  <li  class="page-item {{if $.paginator.IsActive .}} active {{end}}">
                  <a  class="page-link" href="{{$.paginator.PageLink $page}}">{{$page}}</a>
                  </li>
                  {{end}}
                  {{if .paginator.HasNext}}
                  <li class="page-item">
                      <a class="page-link" href="{{.paginator.PageLinkNext}}">下一页</a>
                  </li>
                  <li class="page-item">
                      <a class="page-link" href="{{.paginator.PageLinkLast}}">尾页</a>
                  </li>

                  {{else}}
                  <li class="page-item disabled">
                      <a class="page-link" href="">下一页</a>
                  </li>
                  <li class="page-item disabled">
                      <a class="page-link" href="">尾页</a>
                  </li>
                  {{end}}
              </ul>
              {{end}}
          </nav>
        </div>
      </div>
    </div>
  </div>

  <div class="col-lg-3 col-md-3 sidebar">
    {{template "topics/_sidebar.html" .}}
  </div>
</div>
